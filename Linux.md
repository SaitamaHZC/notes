Linux

# Linux的多个版本

Debian >>> Ubantu----面向于个人用户

Fedora >>> CentOS---多用于公司服务器

​	        >>> Red Hat

Kali

....

![image-20220629154228631](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220629154228631.png)



# Linux组成

学习：

## Linux内核

1、硬件设备 管理使用

2、软件程序 

3、系统内存

4、文件管理 保存删除修改文件 文件系统

## GNU工具

GNU核心：

供Linux使用的工具：

#### coreutils coreutilities软件包

软件包由一下组成：

1、处理文件工具

2、用来操作文本工具

3、管理进程

#### Shell

提供给用户的软件与电脑交互

分为CLI/GUI

##### CLI（Command-Line Interface）（命令行界面）：纯命令，如cmd

bash shell ：基础的shell

zsh: 另一种shell，包含(ash/korn/tcsh,三个都是shell)，MacOS常使用，MacOS底层是Unix



通常Linux Shell特指CLI

##### GUI（图形用户界面）:如桌面等等

X window : 仿windows

KDE

GNOME

Unity-->用于Ubuntu，但并非是个桌面配件

## GUI Desktop环境

## Application 应用





# 终端快捷键

| ctrl + 方向键 | 快速跳字符                   |
| ------------- | ---------------------------- |
| ctrl + b      | 向左移一个字符               |
| ctrl + f      | 向右移一个字符               |
| ctrl + t      | 把光标前的一个字符一直往后移 |
| ctrl + u      | 把光标前的所有字符删光       |
| ctrl + k      | 把光标后的字符删光           |
|               |                              |
|               |                              |
|               |                              |
|               |                              |



# Shell命令

## ls

| 命令     | 功能                           |                |
| -------- | ------------------------------ | -------------- |
| man 命令 | 查询某个命令的功能             |                |
| ls       | 展示当前文件夹下的文件         | -a -al -hl常用 |
| ll       | 展示当前文件夹下的文件详细信息 | 等于ls -l      |



| -a      | 显示所有文件及目录 (包括以“.”开头的隐藏文件)     |
| ------- | ------------------------------------------------ |
| -l      | 使用长格式列出文件及目录的详细信息               |
| -r      | 将文件以相反次序显示(默认依英文字母次序)         |
| -t      | 根据最后的修改时间排序                           |
| -A      | 同 -a ，但不列出 “.” (当前目录) 及 “..” (父目录) |
| -S      | 根据文件大小排序                                 |
| -R      | 递归列出所有子目录                               |
| -d      | 查看目录的信息，而不是里面子文件的信息           |
| -i      | 输出文件的inode节点信息                          |
| -m      | 水平列出文件，以逗号间隔                         |
| -X      | 按文件扩展名排序                                 |
| --color | 输出信息中带有着色效果                           |



## 过滤 * ? []

文件扩展匹配符号： * ？

*代表多个字符,?代表多个字符

```
ll text_*
找出所有text_xxxxxxxx的文件，*代表多个字符
```

```
ll text_?
找出所有text_x的文件，?代表多个字符
```

元字符通配符： []

```
ll text_[a-x]
找出所有text_a、text_b ...text_x的文件
通配符中输入范围  (a-x)，也可以输入!a-x，表示除a-x的字符
```



## 路径、目录

windows：\

linux:         / linux最高根目录

​                 ~ 用户目录       存放在（   home/用户名/...  ）中

| ~        | 用户目录                     |                            |
| -------- | ---------------------------- | -------------------------- |
| cd       | 切换用户目录                 | 单纯cd 默认切换到用户目录  |
| cd /     | 切换成根目录                 |                            |
| cd ~     | 切换成用户目录               |                            |
| cd ..    | 返回上一目录                 | .表示当前目录 ..表示父目录 |
| cd ../.. | 返回上两级目录               |                            |
| cd !$    | 回到上一条命令的最后一个路径 |                            |
|          |                              |                            |
|          |                              |                            |
|          |                              |                            |



![image-20220701202034119](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220706160844567.png)

| /bin     | 二进制目录、GNU工具、ls等自带命令，存放许多用户级 |
| -------- | ------------------------------------------------- |
| /cdrom   | 光盘                                              |
| /etc     | 系统配置文件目录                                  |
| /home    | 主目录，显示所有用户目录                          |
| /lib     | 库目录                                            |
| /mnt     | 挂载目录，外接设别和电脑进行连接                  |
| /run     | 运行目录                                          |
| /tmp     | 临时文件                                          |
| /var     | 可变目录                                          |
| /boot    | 启动目录                                          |
| /dev     | 设备目录                                          |
| /media   | 媒体目录                                          |
| /opt     | 可选目录，存一些第三方软件包和数据                |
| /root    | 根目录 管理员主目录                               |
| /sbin    | 系统二进制目录                                    |
| /srv     | 服务目录 本地服务                                 |
| /usr     | 用户二进制目录，GNU工具                           |
| /usr/bin | 当前用户安装的东西                                |
|          |                                                   |
|          |                                                   |
|          |                                                   |



### 相对路径、绝对路径

绝对路径：详细路径，从根到对应文件的一连串路径

如C:\Windows\System32\drivers\etc

相对路径：我已经到了C:\Windows

那么相对路径就是\System32\drivers\etc



```
gedit ./Documents/doc/1.txt
gedit ~/Documents/doc/1.txt
gedit Documents/doc/1.txt
都表示打开当前目录下的文件

gedit /Documents/doc/1.txt
表示打开根目录下的文件
```



## 多命令 &&

```
cd ../Doc/ && ll
到父目录的Doc子文件里（父文件里有个Doc文件夹），显示所有文件
```



## touch 

两个功能：

1：用于把已存在文件的时间标签更新为系统当前的时间（默认方式），它们的数据将原封不动地保留下来；

2：是用来创建新的空文件



## cp 复制

```
cp 源文件 目标文件
```

**-i**

```
cp -i 1.txt 2.txt
把1.txt复制到2.txt，如果已经有2.txt，那么会询问是否覆盖
如果没有2.txt，那么新建一个

**建议每一句都加上-i**
```

**-r**

```
把文件夹和里面的所有文件都复制过去
cp -i -r Documents/ Downloads/

把文件夹里面的文件全部复制过去，不包括文件夹本身
cp -i Documents/* Downloads/

```





## ln 链接

两种链接文件方式

1、软链接（符号链接Symbolic links）------- 快捷方式

所指向的文件/文件夹（原来的文件）必须存在

源文件改动，那么软链接的文件也会相应改动

2、硬链接(Soft links) --------- 创建一个副本

原先的文件/文件夹必须存在

只能在同一块硬盘里创建硬链接

### 硬链接和软链接的区别：

由于 Linux 下的文件是通过索引节点（Inode）来识别文件，在 Linux 的文件系统中，保存在磁盘分区中的文件不管是什么类型都给它分配一个编号，称为索引节点号 (Inode Number)。

硬链接和源文件都指向同一个索引节点。（指向同一个储存空间）

A 是 B 的软链接（A 和 B 都是文件名），A 的目录项中的 inode 节点号与 B 的目录项中的 inode 节点号不相同，A 和 B 指向的是两个不同的 inode，继而指向两块不同的数据块。但是 A 的数据块中存放的只是 B 的路径名（可以根据这个找到 B 的目录项）。

硬链接指向文件在硬盘中的位置，软链接指向文件，而该文件指向在硬盘中的位置



****



格式：

```
 ln [参数] 源文件 目标文件
```

默认为硬链接

| -b     | 为每个已存在的目标文件创建备份文件                   |
| ------ | ---------------------------------------------------- |
| -d     | 此选项允许“root”用户建立目录的硬链接                 |
| -f     | 强制创建链接，即使目标文件已经存在                   |
| -n     | 把指向目录的符号链接视为一个普通文件                 |
| -i     | 交互模式，若目标文件已经存在，则提示用户确认进行覆盖 |
| **-s** | **对源文件建立符号链接，而非硬链接**                 |
| -v     | 详细信息模式，输出指令的详细执行过程                 |

**cp命令copy一个软链接时，copy的是软链接所对应的内容，而不是它本身。**（不会复制一个快捷方式，复制的是快捷方式指向的内容本身）





## mv 移动

**语法格式：**mv [参数] 源文件 目标文件

**常用参数：**

| -i   | 若存在同名文件，则向用户询问是否覆盖                         |
| ---- | ------------------------------------------------------------ |
| -f   | 覆盖已有文件时，不进行任何提示                               |
| -b   | 当文件存在时，覆盖前为其创建一个备份                         |
| -u   | 当源文件比目标文件新，或者目标文件不存在时，才执行移动此操作 |



## rm删除

语法格式：

```
rm [参数] 文件
```

**常用参数：**

| -f   | 强制删除（不二次询问）   |
| ---- | ------------------------ |
| -i   | 删除前会询问用户是否操作 |
| -r/R | 递归删除                 |
| -v   | 显示指令的详细执行过程   |



## mkdir 创建文件夹

**语法格式 :** 

```
mkdir [参数] 目录
```

**常用参数：**

| -p   | 递归创建多级目录             |
| ---- | ---------------------------- |
| -m   | 建立目录的同时设置目录的权限 |
| -z   | 设置安全上下文               |
| -v   | 显示目录的创建过程           |



## file 识别文件类型

**语法格式：**

```
file [参数] 文件
```

**常用参数：**

| -b   | 列出辨识结果时，不显示文件名称 (简要模式) |
| ---- | ----------------------------------------- |
| -c   | 详细显示指令执行过程                      |
| -f   | 指定名称文件，显示多个文件类型信息        |
| -L   | 直接显示符号连接所指向的文件类别          |
| -m   | 指定魔法数字文件                          |
| -v   | 显示版本信息                              |
| -z   | 尝试去解读压缩文件的内容                  |
| -i   | 显示MIME类别                              |



## cat 查看文件内容

**语法格式：**

```
cat [参数] 文件
```

**常用参数：**

| -n        | 显示行数（空行也编号）                  |
| --------- | --------------------------------------- |
| -s        | 显示行数（多个空行算一个编号）          |
| -b        | 显示行数（空行不编号）                  |
| -E        | 每行结束处显示$符号                     |
| -T        | 将TAB字符显示为 ^I符号                  |
| -v        | 使用 ^ 和 M- 引用，除了 LFD 和 TAB 之外 |
| -e        | 等价于”-vE”组合                         |
| -t        | 等价于”-vT”组合                         |
| -A        | 等价于 -vET组合                         |
| --help    | 显示帮助信息                            |
| --version | 显示版本信息                            |

**-A 常用、重要**

适合用于查看比较短的文件，不然不好翻页



## more 分页显示文件内容

按回车向下一行，按空格向下一页

**语法格式：**more [参数] 文件

**常用参数：**

| -num      | 指定每屏显示的行数                                           |
| --------- | ------------------------------------------------------------ |
| -l        | more在通常情况下把 **^L** 当作特殊字符, 遇到这个字符就会暂停,-l选项可以阻止这种特性 |
| -f        | 计算实际的行数，而非自动换行的行数                           |
| -p        | 先清除屏幕再显示文本文件的剩余内容                           |
| -c        | 与-p相似，不滚屏，先显示内容再清除旧内容                     |
| -s        | 多个空行压缩成一行显示                                       |
| -u        | 禁止下划线                                                   |
| +/pattern | 在每个文档显示前搜寻该字(pattern)，然后从该字串之后开始显示  |
| +num      | 从第 num 行开始显示                                          |



## less 分页显示文件内容

​	和more命令很相像，但more命令只能从前向后浏览文件内容，而less命令则不仅能从前向后（**PageDown键**），还可以从后向前（**PageUp键**）浏览文件内容，更加灵活。

**语法格式：**

```
less [参数] 文件
```

**常用参数：**﻿

| -b   | 设置缓冲区的大小                   |
| ---- | ---------------------------------- |
| -e   | 当文件显示结束后自动退出           |
| -f   | 强制打开文件                       |
| -g   | 只标志最后搜索的关键词             |
| -i   | 忽略搜索时的大小写                 |
| -m   | 显示阅读进度百分比                 |
| -N   | 显示每行的行号                     |
| -o   | 将输出的内容在指定文件中保存起来   |
| -Q   | 不使用警告音                       |
| -s   | 显示连续空行为一行                 |
| -S   | 在单行显示较长的内容，而不换行显示 |
| -x   | 将TAB字符显示为指定个数的空格字符  |



## tail、head 看文件尾部头部

默认会在终端界面上显示出指定文件的末尾十行

**语法格式：**tail [参数] 文件

| -c     | 输出文件尾部的N（N为整数）个字节内容          |
| ------ | --------------------------------------------- |
| -f     | 持续显示文件最新追加的内容                    |
| -F <N> | 与选项“-follow=name”和“--retry”连用时功能相同 |
| -n <N> | 输出文件的尾部N（N位数字）行内容              |

```
tail 1.txt -n 6 
看最后六行
```



**语法格式：**head [参数] 文件

**常用参数：**

| -n <数字> | 定义显示行数             |
| --------- | ------------------------ |
| -c <数字> | 指定显示头部内容的字符数 |
| -v        | 总是显示文件名的头信息   |
| -q        | 不显示文件名的头信息     |



##  top 任务管理器

**语法格式：**top [参数]

**常用参数：**

| -d <秒> | 改变显示的更新速度                   |
| ------- | ------------------------------------ |
| -c      | 切换显示模式                         |
| -s      | 安全模式，不允许交互式指令           |
| -i      | 不显示任何闲置或僵死的行程           |
| -n      | 设定显示的总次数，完成后将会自动退出 |
| -b      | 批处理模式，不进行交互式显示         |



## ps 显示进程状态

具体命令参数查表吧

```
ps -aux | grep 名字 # 查看名为“名字”的进程详细信息
```





## kill 结束进程

配合ps top使用

**语法格式：**kill [参数] 进程号

**常用参数：**

| -l   | 列出系统支持的信号             |
| ---- | ------------------------------ |
| -s   | 指定向进程发送的信号           |
| -a   | 不限制命令名和进程号的对应关系 |
| -p   | 不发送任何信号                 |



## mount 挂载

Linux 系统中“一切皆文件”，所有文件都放置在以根目录为树根的树形目录结构中。在 Linux 看来，任何硬件设备也都是文件，它们各有自己的一套文件系统（文件目录结构）。

因此产生的问题是，当在 Linux 系统中使用这些硬件设备时，只有将Linux本身的文件目录与硬件设备的文件目录合二为一，硬件设备才能为我们所用。合二为一的过程称为“挂载”。

挂载，指的就是将设备文件中的顶级目录连接到 Linux 根目录下的某一目录（最好是空目录），访问此目录就等同于访问设备文件。



如果不挂载，通过Linux系统中的图形界面系统可以查看找到硬件设备，但命令行方式无法找到。



默认情况下Linux系统并不会像Windows系统那样自动的挂载光盘和U盘设备，需要自行完成。

**语法格式：**mount [参数] [设备] [挂载点]

**常用参数：**﻿

| -t   | 指定挂载类型                             |
| ---- | ---------------------------------------- |
| -l   | 显示已加载的文件系统列表                 |
| -h   | 显示帮助信息并退出                       |
| -V   | 显示程序版本                             |
| -n   | 加载没有写入文件“/etc/mtab”中的文件系统  |
| -r   | 将文件系统加载为只读模式                 |
| -a   | 加载文件“/etc/fstab”中描述的所有文件系统 |



### 查询挂载设备

```
fdisk -l
```



### umount 卸载文件系统

**语法格式：**umount [参数] [设备/挂载目录]

**常用参数：**

| -a   | 卸载/etc/mtab中记录的所有文件系统   |
| ---- | ----------------------------------- |
| -h   | 显示帮助                            |
| -n   | 卸载时不要将信息存入/etc/mtab文件中 |
| -r   | 尝试以只读的方式重新挂入文件系统    |
| -t   | 仅卸载选项中所指定的文件系统        |
| -v   | 执行时显示详细的信息                |
| -V   | 显示版本信息                        |





## df 显示磁盘空间使用情况

**语法格式：** df [参数] [对象磁盘/分区]

**常用参数：**

| -a                | 显示所有系统文件                     |
| ----------------- | ------------------------------------ |
| -B <块大小>       | 指定显示时的块大小                   |
| -h                | 以容易阅读的方式显示                 |
| -H                | 以1000字节为换算单位来显示           |
| -i                | 显示索引字节信息                     |
| -k                | 指定块大小为1KB                      |
| -l                | 只显示本地文件系统                   |
| -t <文件系统类型> | 只显示指定类型的文件系统             |
| -T                | 输出时显示文件系统类型               |
| -- -sync          | 在取得磁盘使用信息前，先执行sync命令 |



## du 查看文件或目录的大小

**语法格式：**du [参数] 文件

**常用参数：**﻿

| -a   | 显示目录中所有文件大小 |
| ---- | ---------------------- |
| -k   | 以KB为单位显示文件大小 |
| -m   | 以MB为单位显示文件大小 |
| -g   | 以GB为单位显示文件大小 |
| -h   | 以易读方式显示文件大小 |
| -s   | 仅显示总计             |

常用：

```
du -h
```



## Sort 文件排序

sort命令的功能是对文件内容进行排序。有时文本中的内容顺序不正确，一行行地手动修改实在太麻烦了。此时使用sort命令就再合适不过了，它能够对文本内容进行再次排序。

**语法格式：**sort [参数] 文件

**常用参数：**﻿

| -b            | 忽略每行前面开始出的空格字符                         |
| ------------- | ---------------------------------------------------- |
| -c            | 检查文件是否已经按照顺序排序                         |
| -d            | 除字母、数字及空格字符外，忽略其他字符               |
| -f            | 将小写字母视为大写字母                               |
| -i            | 除040至176之间的ASCII字符外，忽略其他字符            |
| -m            | 将几个排序号的文件进行合并                           |
| -M            | 将前面3个字母依照月份的缩写进行排序 ⭐（看公司日志2） |
| -n            | 依照数值的大小排序                                   |
| -o <输出文件> | 将排序后的结果存入制定的文件                         |
| -r            | 以相反的顺序来排序                                   |
| -t <分隔字符> | 指定排序时所用的栏位分隔字符                         |
| -k            | 指定需要排序的栏位                                   |



## grep 搜索

**语法格式：** grep [参数]（关键词） 文件

**常用参数：**

| -i   | 忽略大小写                                                 |
| ---- | ---------------------------------------------------------- |
| -c   | 只输出匹配行的数量                                         |
| -l   | 只列出符合匹配的文件名，不列出具体的匹配行                 |
| -n   | 列出所有的匹配行，显示行号                                 |
| -h   | 查询多文件时不显示文件名                                   |
| -s   | 不显示不存在、没有匹配文本的错误信息                       |
| -v   | 显示不包含匹配文本的所有行                                 |
| -w   | 匹配整词                                                   |
| -x   | 匹配整行                                                   |
| -r   | 递归搜索                                                   |
| -q   | 禁止输出任何结果，已退出状态表示搜索是否成功               |
| -b   | 打印匹配行距文件头部的偏移量，以字节为单位                 |
| -o   | 与-b结合使用，打印匹配的词据文件头部的偏移量，以字节为单位 |
| -F   | 匹配固定字符串的内容                                       |
| -E   | 支持扩展的正则表达式                                       |



## tar 打包

**语法格式：**tar 参数 文件或目录

https://www.linuxcool.com/tar

常用：

压缩：使用gzip压缩格式对某个目录进行打包操作，显示压缩过程，压缩包规范后缀为.tar.gz：

```
tar -zcvf abc.tar.gz /etc
对etc目录里的文件进行打包和压缩
```

解压：

```
tar -zxvf abc.tar.gz /etc
对abc.tar.gz进行解压，解压到etc里
```



# 父子shell

## 概念

打开terminal时，默认运行一个bash，要创建一个子shell程序很简单，输入bash就会创建一个新的shell程序，被称为子shell。要区分是父shell还是子shell，需要使用前面所学的ps 查看进程命令。

初始：

![image-20220706160844567](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220701202034119.png)

创建三个子shell:

![image-20220706160854859](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220706161359583.png)

PID为进程号，PPID为父进程号，可看到父子关系：

![image-20220706160902330](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220706160854859.png)

![image-20220706161139064](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220706160902330.png)



## 分号、括号

**分号；**

把各个命令分开，依次执行不同命令

![image-20220706161359583](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220706161139064.png)



### 单小括号 ()

- **命令组**。括号中的命令**将会新开一个子shell顺序执行**，所以括号中的变量不能够被脚本余下的部分使用。括号中多个命令之间用分号隔开，最后一个命令可以没有分号，各命令和括号之间不必有空格。



## sleep 延迟执行

**语法格式：**sleep [参数]

**常用参数：**

| --help    | 显示辅助讯息                    |
| --------- | ------------------------------- |
| --version | 显示版本编号                    |
| number    | 时间长度，后面可接 s、m、h 或 d |
| <数字>s   | 秒数                            |
| <数字>m   | 分钟                            |
| <数字>h   | 小时                            |
| <数字>d   | 日期                            |

**参考实例**

设定终端界面休眠3分钟：

```
sleep 3m
```

查看当前系统时间，随后休眠1分钟，再次显示系统时间：

```
[root@linuxcool ~]# date ; sleep 1m ; date
Sun Jun  5 16:20:43 CST 2022
Sun Jun  5 16:21:43 CST 2022
```



## 在后台运行

```
sleep 30&
加上&，表示在后台运行
```

![image-20220706163130921](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220706163130921.png)



## jobs 显示shell的作业信息

**语法格式:** jobs [参数] [目录]

**常用参数：**

| -l   | 显示作业列表时包括进程号             |
| ---- | ------------------------------------ |
| -n   | 显示上次使用jobs后状态发生变化的作业 |
| -p   | 显示作业列表时仅显示其对应的进程号   |
| -r   | 仅显示运行的（running）作业          |
| -s   | 仅显示暂停的（stopped）作业          |

**参考实例**

显示当前的作业列表：

```
[root@linuxcool ~]# jobs 
```

显示当前的作业号以及对应的进程号：

```
[root@linuxcool ~]# jobs -l
```

仅显示运行的作业：

```
[root@linuxcool ~]# jobs -r
```

仅显示暂停的作业：

```
[root@linuxcool ~]# jobs -s
```

显示上次使用jobs后状态发生变化的作业：

```
[root@linuxcool ~]# jobs -n 
```

## 

## coproc 协程

```
coproc 协程名 { ls ;sleep 10; }

//大括号一定要有两个空格 {空格xxx空格}
```

**功能**：挂在子shell的后台运行



## 外部命令和内建命令

使用ps -f查看进程时会发现，它本身也成为了一个进程。

![image-20220706164601282](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220706164601282.png)

　Linux命令有内部命令（内建命令）和外部命令之分，内部命令和外部命令功能基本相同，但也有些细微差别。内部命令不需要使用子进程来执行，它们已经和shell编译成一体，作为shell工具的组成部分存在。不需要借助外部程序文件来运行。它们是一些比较简单的linux系统命令，如exit,history,cd,echo等。

外部命令是存在于bash shell之外的程序，它们不是shell程序的一部分，外部命令程序通常位于/bin, /usr/bin, /sbin, /usr/sbin中。

https://www.cnblogs.com/MrHSR/p/9650305.html



## type 显示指定命令的类型

**语法格式：**type [参数] [命令]

**常用参数：**

| lias     | 别名                     |
| -------- | ------------------------ |
| keyword  | 关键字，Shell保留字      |
| function | 函数，Shell函数          |
| builtin  | 内建命令，Shell内建命令  |
| file     | 文件，磁盘文件，外部命令 |
| unfound  | 没有找到                 |



## history

查看已经执行的命令

![image-20220706165513027](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220706232355863.png)

若要执行history中的命令

```
！命令号
!220  //执行clear
```



## alias  设置命令别名

alias命令的作用只局限于该次登入的操作。若要每次登入都能够使用这些命令别名，则可将相应的alias命令存放到bash的初始化文件 /etc/bashrc中。

**语法格式**：alias [参数]

**常用参数：**

| -p   | 打印已经设置的命令别名 |
| ---- | ---------------------- |
|      |                        |

```
alias li='ls -li'
alias 别名='原名'
```





# 环境变量

环境变量可分为：全局变量、局部变量

## echo 输出字符串或提取后的变量值

**语法格式：**echo [参数] 字符串/变量

**常用参数：**

| -n       | 不输出结尾的换行符               |
| -------- | -------------------------------- |
| -e “\a”  | 发出警告音                       |
| -e “\b”  | 删除前面的一个字符               |
| -e “\c”  | 结尾不加换行符                   |
| -e “\f”  | 换行，光标扔停留在原来的坐标位置 |
| -e “\n”  | 换行，光标移至行首               |
| -e “\r”  | 光标移至行首，但不换行           |
| -E       | 禁止反斜杠转移，与-e参数功能相反 |
| —version | 查看版本信息                     |
| --help   | 查看帮助信息                     |



## printenv   显示指定的环境变量的值

```
printenv
显示所有环境变量
```



![image-20220706230632921](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220706165513027.png)

查到环境变量之后，就可以用环境变量代替路径

```
echo $PATH
echo $HOME
```





## 局部变量

局部变量则只对创建它们的shell可见

### 创建局部变量：

```
my_variable=Hello

my_variable="Hello World" 

echo $my_variable
```


⚠️注意：

所有的环境变量名均使用大写字母，这是bash shell的标准惯例。如果是你自己创建的局部变量或是shell脚本，请使用小写字母。变量名区分大小写。在涉及用户定义的局部变量时坚持使用小写字母，这能够避免重新定义系统环境变量可能带来的灾难。
变量名、等号和值之间没有空格.
如果变量中含有空格的字符串值，则使用双引号包裹起来。
命令中单引号、双引号、无引号的区别：
单引号：将单引号内的内容原样输出，或者描述为单引号里面看到的是什么就会输出什么；
双引号：如果内容中有命令、变量等，会先把变量、命令解析出结果，然后在输出最终内容来无引号：不会将含有空格的字符串视为一个整体输出, 如果内容中有命令、变量等，会先把变量、命令解析出结果，然后在输出最终内容来，如果字符串中带有空格等特殊字符，则不能完整的输出

关于环境变量：

https://blog.51cto.com/u_10941874/5331149



## export  将变量提升成环境变量



**常用参数：**

| -f   | 指定函数名称       |
| ---- | ------------------ |
| -n   | 删除指定的变量     |
| -p   | 列出所有的环境变量 |

```
export hi="FUCKYOU"
//echo $newenv 显示FUCKYOU 
```

![image-20220706232355863](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220706232619075.png)



⚠️注意：

1、子shell export导出的变量，父shell接收不到

2、**修改子shell中全局环境变量并不会影响到父shell中该变量的值。**

3、关闭terminal后，这个全局变量会消失，不具有持久性



## unset   删除指定的shell变量或函数

**常用参数：**

| -f   | 仅删除函数 |
| ---- | ---------- |
| -v   | 仅删除变量 |

 

```
unset hi
```

![image-20220706232619075](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220706230632921.png)







# 软件安装

## PMS (Package Management System)

PMS的核心为：

dpkg - package manager for Debian （debian系统的包管理工具）

rpm - redhat package manager (redhat)



## apt-get

### 语法

```shell
apt-get [OPTION] PACKAGE
```

也可以使用apt（更新的命令，有不同）

```
apt [OPTION] PACKAGE
```



### 选项

```shell
apt-get install  # 安装新包
apt-get remove   # 卸载已安装的包（保留配置文件）
apt-get purge    # 卸载已安装的包（删除配置文件）
apt-get update   # 更新软件包列表 （只查找更新）
apt-get upgrade  # 更新所有已安装的包 （一键更新）
apt-get autoremove   # 卸载已不需要的包依赖
apt-get dist-upgrade # 自动处理依赖包升级
apt-get autoclean    # 将已经删除了的软件包的.deb安装文件从硬盘中删除掉
apt-get clean        # 删除软件包的安装包

-c：指定配置文件。

```



## aptitude(已被淘汰)



## 配置镜像源

百度，更改/etc/apt/source.list





# 用户与权限



每个用户有 **用户ID**（昵称）+  **UID** 

```shell
cat /etc/passwd #查看用户信息
```

![image-20220712214448668](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220712220621330.png)

daemon bin...为系统用户，系统创建的一些用户，赋予其某些执行权限，**其UID值 < 500**



```shell
sudo cat /etc/shadow  #用于存储 Linux 系统中用户的密码信息，又称为“影子文件”。
```

/etc/shadow 文件只有 root 用户拥有读权限，其他用户没有任何权限，这样就保证了用户密码的安全性。



## 创建用户、删除、更改

![image-20220712220621330](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220712214448668.png)

```shell
sudo useradd user1 #创建
sudo passwd user1 #更改密码
sudo userdel user1 #删除、
usermod			 #更改用户信息
chage 		      #修改帐号和密码的有效期限
```





## groups组

目的：共享资源的权限

![Linux 用户和组](http://c.biancheng.net/uploads/allimg/190408/2-1Z40QP4595X.gif)

ubuntu不允许所有用户在一个组里



```
groupadd #创建组
groupdel #删除组
groupmod #更改组
g
```



## 文件和文件夹权限

![img](https://www.runoob.com/wp-content/uploads/2014/08/file-permissions-rwx.jpg)

注：d/- 文件夹还是文件

Owner:创建人的权限

Group:组的权限

Other Users:其他人的权限



![image-20220712221351397](http://hzc-typora.oss-cn-shanghai.aliyuncs.com/img/image-20220712221351397.png)

![img](https://www.runoob.com/wp-content/uploads/2014/06/file-llls22.jpg)

第一个saitama为创始人（用户名），第二个saitama为组名



## chmod 更改文件权限

各权限的分数对照表如下：

- r:4
- w:2
- x:1

每种身份(owner/group/others)各自的三个权限(r/w/x)分数是需要累加的，例如当权限为： **-rwxrwx---** 分数则是：

- owner = rwx = 4+2+1 = 7
- group = rwx = 4+2+1 = 7
- others= --- = 0+0+0 = 0

所以等一下我们设定权限的变更时，该文件的权限数字就是 **770**。变更权限的指令 chmod 的语法是这样的：

```
 chmod [-R] xyz 文件或目录
```



# server

**https://blog.csdn.net/qq_46207024/article/details/116562277**
